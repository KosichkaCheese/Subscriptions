# Subscribtions
## Принятые решения
Сервис реализован по принципам REST и слоистой архитектуры (разделен на слои контроллер - сервис - репозиторий).  
Для небольшого ускорения и упрощения разработки я использовала фреймворк Gin вместо стандартной библиотеки.  
Для формирования swagger-документации я использовала gin-swagger.  
Для логирования использовала zap.  
В ТЗ указано, что проверять пользователя не нужно и это не моя ответственность. Но ничего не сказано о сервисах, предоставляющих подписку. Я понимаю, что подразумевалось, что нужно действительно просто вписывать строку с названием. Однако, я не смогла заставить себя нарушить 2НФ. Название сервиса не зависит от id записи о подписке, оно описывает отдельную сущность, поэтому оставить его в таблице подписок, а не вынести в отдельную таблицу сервисов означает допустить аномалии удаления, обновления и согласованности. Я приняла решение вынести название сервиса в отдельную таблицу, которая хранила бы информацию о сервисах (если бы у них было что-то кроме название), таким образом в записи о подписке хранится лишь id сервиса. При получении записио подписке, я возвращаю сразу и запись о сервисе, таким образом, если бы существовал фронтенд, он бы точно так же мог получить название сервиса из этой записи. Создание записи осуществляется согласно ТЗ - указывается название сервиса, а затем я уже обрабатываю это.  
Также я написала несколько тестов для сервисного слоя с использованием testify для моков и стандартной библиотеки testing. Тесты покрывают не все функции, а только реально имеющие логику, которую следует тестировать (функции, где просто вызывается другая функция я тестами не покрывала).  

## Инструкция
### Запуск проекта
1. Склонируйте репозиторий
2. Запустите ваш docker engine
3. в директории проекта запустите его командой
```docker compose up --build```
4. Проверьте, что сервис работает. Он должен запуститься по адресу http://localhost:8000.  
Вы можете отправить запрос на http://localhost:8000/ping если получите ответ "pong", значит сервис запущен.

### Использование
Swagger-документация находится по адресу http://localhost:8000/swagger/index.html  
под тегом Services вы можете: создать, просмотреть или удалить записи о сервисах. Это не обязательно, вы можете сразу работать с подписками.
<img width="1646" height="249" alt="image" src="https://github.com/user-attachments/assets/bd976d5d-131f-4555-a809-9e78bbaecc93" />
под тегом Subscriptions вы можете: получить список всех записей, конкретную запись по id, добавить запись, обновить(изменить можно дату окончания и стоимость), удалить и получить сумму записей по заданным фильтрам. Swagger подскажет вам формат запросов.
<img width="1666" height="428" alt="image" src="https://github.com/user-attachments/assets/a40351d0-880f-4e3d-818b-fe74fc848077" />
